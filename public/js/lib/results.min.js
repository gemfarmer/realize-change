// Generated by CoffeeScript 1.6.3
(function() {
  var addAnswersToRank, dataTemplate, source;

  source = $("#results-template").html();

  dataTemplate = Handlebars.compile(source);

  addAnswersToRank = function(data) {
    return $.get('/getanswers', data, function(answers) {
      return $('#resultsRepo').html(dataTemplate(answers));
    });
  };

  $(function() {
    var goalsToShow;
    goalsToShow = 10;
    addAnswersToRank({
      randomize: false,
      future: false,
      goals: false,
      asc: false,
      desc: false,
      goalsToShow: goalsToShow
    });
    $(document).on('click', '.sortAsc', function() {
      return addAnswersToRank({
        randomize: false,
        future: false,
        goals: false,
        asc: true,
        desc: false,
        goalsToShow: goalsToShow
      });
    });
    $(document).on('click', '.sortDesc', function() {
      return addAnswersToRank({
        randomize: false,
        future: false,
        goals: false,
        asc: false,
        desc: true,
        goalsToShow: goalsToShow
      });
    });
    return $(document).on('click', '#moreResults', function() {
      goalsToShow += 10;
      return addAnswersToRank({
        randomize: false,
        future: false,
        goals: false,
        asc: false,
        desc: false,
        goalsToShow: goalsToShow
      });
    });
  });

}).call(this);
